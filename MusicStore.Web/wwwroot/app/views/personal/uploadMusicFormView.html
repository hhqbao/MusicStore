<div class="upload-music-form-wrapper">
    <h2>Upload Music</h2>
    <form name="formSong" novalidate>
        <div class="form-group">
            <label class="control-label">Song title: <span class="text-danger">*</span></label>
            <input type="text" class="form-control"
                   name="songTitle"
                   required
                   ng-model="song.title"/>
            <span class="text-danger" ng-if="formSong.songTitle.$dirty && formSong.songTitle.$invalid">
                Title is required!
            </span>
        </div>
        <div class="form-group">
            <label class="control-label">Category: <span class="text-danger">*</span></label>
            <select class="form-control" 
                    name="categoryId"
                    required
                    ng-options="category.id as category.name for category in categories"
                    ng-model="song.categoryId">
                <option value="">-- Select Music Category --</option>
            </select>
            <span class="text-danger" ng-if="formSong.categoryId.$dirty && formSong.categoryId.$invalid">
                Category is required!
            </span>
        </div>
        <div class="form-group">
            <label class="control-label">Author: <span class="text-danger">*</span></label>
            <select class="form-control"
                    name="authorId"
                    required
                    ng-options="author.id as author.name for author in authors"
                    ng-model="song.authorId">
                <option value="">-- Select Author --</option>
            </select>
            <span class="text-danger" ng-if="formSong.authorId.$dirty && formSong.authorId.$invalid">
                Author is required!
            </span>
        </div>
        <div class="form-group" ng-if="isUploading.status == false && song.fileUrl == null">
            <label class="control-label">Select File: <span class="text-danger">*</span></label>
            <div class="file-upload">                
                <input id="song-file" type="file" accept="audio/*" class="form-control" onchange="angular.element(this).scope().fileChanged(this)" />
                <label for="song-file" class="btn btn-success">Browse File...</label>
            </div>            
        </div>
        <div class="form-group" ng-if="isUploading.status == true">
            <label class="control-label text-primary">Uploading File...</label>            
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: {{isUploading.uploadProgressCount}}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                    {{isUploading.uploadProgressCount}}%
                </div>
            </div>
        </div>
        <div class="form-group" ng-if="song.fileUrl != null">
            <label class="control-label text-success">Upload Completed</label>
            <div class="input-group">
                <input type="text" class="form-control" disabled ng-model="song.fileUrl"/>
                <span class="input-group-btn" ng-click="removeFile()">
                    <button class="btn btn-danger btn-secondary" type="button">
                        <span class="glyphicon glyphicon-trash"></span>
                        Remove File
                    </button>
                </span>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label">Lyric (optional):</label>
            <textarea rows="4" class="form-control" ng-model="song.lyric"></textarea>
        </div>
    </form>
    <div class="form-group">
        <button class="btn btn-primary"
                ng-disabled="formSong.$invalid || song.fileUrl == null"
                ng-click="submitForm()">
            <span class="glyphicon glyphicon-floppy-saved"></span>
            Submit
        </button>

        <button class="btn btn-default pull-right"
                ng-click="cancelForm()">
            <span class="glyphicon glyphicon-refresh"></span>
            Cancel
        </button>
    </div>
</div>